Script started on 2021-12-02 10:15:08-05:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="104" LINES="31"]
bash: /home/umrigar/cs220/bin.student.rc: No such file or directory
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ vi fn-trace.c[K[K[K[K[K[K[K[K[K[K[K[K[Kcd
dorbach1@g7-27:~$ 
dorbach1@g7-27:~$ ls
bomb.tar	   Desktop    Final  Labs      projects   Test2     Testing	  Videos
CS120DanielOrbach  Documents  Hw     Music     Public	  Test2.c   TestingFiles
cs220		   Downloads  i220a  Pictures  Templates  Test2.c~  tmp
dorbach1@g7-27:~$ cd i200a
bash: cd: i200a: No such file or directory
dorbach1@g7-27:~$ ls
bomb.tar	   Desktop    Final  Labs      projects   Test2     Testing	  Videos
CS120DanielOrbach  Documents  Hw     Music     Public	  Test2.c   TestingFiles
cs220		   Downloads  i220a  Pictures  Templates  Test2.c~  tmp
dorbach1@g7-27:~$ cd i220a
dorbach1@g7-27:~/i220a$ ls
README.md  submit
dorbach1@g7-27:~/i220a$ cd sub
bash: cd: sub: No such file or directory
dorbach1@g7-27:~/i220a$ cd submit/
dorbach1@g7-27:~/i220a/submit$ cd lab
bash: cd: lab: No such file or directory
dorbach1@g7-27:~/i220a/submit$ cs lab12
bash: cs: command not found
dorbach1@g7-27:~/i220a/submit$ cd lab12
dorbach1@g7-27:~/i220a/submit/lab12$ ls
exercises
dorbach1@g7-27:~/i220a/submit/lab12$ cd exercises/
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ ls
block.s  key-int.s  labN.LOG  Makefile	poll.s
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ cd [K[K[Kdosbox &
[1] 633966
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG: Generating default configuration.
Writing it to /home/dorbach1/.dosbox/dosbox-0.74-2.conf
CONFIG:Loading primary settings from config file /home/dorbach1/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
m[K
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ jos[Kbs -l
[1]+ 633966 Running                 dosbox &
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ ls
block.s  key-int.s  labN.LOG  Makefile	poll.s
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ dc[K[Kls
block.s  key-int.s  labN.LOG  Makefile	poll.s
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ more block.s
		#dos starts all .com programs at this offset
		.org	0x100

	        .code16

#Define constants
DOS_INT 	=       0x21
COUNT  		=       50
QUIT   		= 	'q'
DELAY_LO 	=	0x0
DELAY_HI 	=	0x2

#Entered at program startup.
		jmp	main


#data area	
inChar:		.byte	0

main:
main1:	
		call    getchar         #read input char into inChar
		mov	inChar, %al	#al set to char read
		cmp	$QUIT, %al	#is it a QUIT character?
		jz	main3		#quit if got QUIT character
		mov     $COUNT, %cx     #set output counter
main2:  
	        call    putchar         #output inChar to console
		call    delay           #delay for time proportional to DELAY
                dec	%cx             #decrement loop counter
[7m--More--(39%)[27m[K		jnz     main2           #loop if output counter nonzero
[7m--More--(42%)[27m[K		jmp     main1           #back to read next char
[7m--More--(45%)[27m[Kmain3:		call	exit
[7m--More--(46%)[27m[K
[7m--More--(46%)[27m#Read next char from stdin into inChar.  Quit if ^C
[7m--More--(49%)[27mgetchar:[K
[7m--More--(50%)[27m[K		push	%ax
[7m--More--(50%)[27m[K		mov     $0x08,%ah       #specify fn: read without echo into al
[7m--More--(54%)[27m[K		int     $DOS_INT        #read stdin into %al
[7m--More--(57%)[27m[K		mov     %al,inChar      #mov char read to inChar
[7m--More--(59%)[27m[K		pop	%ax
[7m--More--(60%)[27m[K		ret
[7m--More--(60%)[27m[K
[7m--More--(60%)[27m#Write inChar to console	
[7m--More--(62%)[27mputchar:[K
[7m--More--(62%)[27m[K		push	%ax
[7m--More--(63%)[27m[K		movb    $02,%ah         #specify fn: output dl to stdout
[7m--More--(66%)[27m[K		movb    inChar,%dl      #char to output
[7m--More--(69%)[27m[K		int     $DOS_INT        #output inChar
[7m--More--(71%)[27m[K		pop	%ax
[7m--More--(72%)[27m[K		ret
[7m--More--(72%)[27m[K
[7m--More--(72%)[27mexit:[K
[7m--More--(72%)[27m[K		mov	$0x4c,%ah      	#specify fn: program exit
[7m--More--(75%)[27m[K		mov	$0x0,%al        #setup exit status
[7m--More--(78%)[27m[K		int	$DOS_INT        #exit program
[7m--More--(80%)[27m[K	
[7m--More--(80%)[27m[K	
[7m--More--(80%)[27m[K
[7m--More--(80%)[27m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO
[7m--More--(84%)[27m[Kdelay:		push	%ax
[7m--More--(85%)[27m[K		push	%bx
[7m--More--(85%)[27m[K		push	%cx
[7m--More--(86%)[27m[K		mov	$DELAY_HI, %bx
[7m--More--(87%)[27m[Kdelay1:		mov     $DELAY_LO, %cx
[7m--More--(89%)[27m[Kdelay2:		mov     $0x0f0a0, %ax
[7m--More--(91%)[27m[K	        imul    %cl
[7m--More--(92%)[27m[Kdorbach1@g7-27:~/i220a/submit/lab12/exercises$ cat block.s
		#dos starts all .com programs at this offset
		.org	0x100

	        .code16

#Define constants
DOS_INT 	=       0x21
COUNT  		=       50
QUIT   		= 	'q'
DELAY_LO 	=	0x0
DELAY_HI 	=	0x2

#Entered at program startup.
		jmp	main


#data area	
inChar:		.byte	0

main:
main1:	
		call    getchar         #read input char into inChar
		mov	inChar, %al	#al set to char read
		cmp	$QUIT, %al	#is it a QUIT character?
		jz	main3		#quit if got QUIT character
		mov     $COUNT, %cx     #set output counter
main2:  
	        call    putchar         #output inChar to console
		call    delay           #delay for time proportional to DELAY
                dec	%cx             #decrement loop counter
		jnz     main2           #loop if output counter nonzero
		jmp     main1           #back to read next char
main3:		call	exit

#Read next char from stdin into inChar.  Quit if ^C
getchar:
		push	%ax
		mov     $0x08,%ah       #specify fn: read without echo into al
		int     $DOS_INT        #read stdin into %al
		mov     %al,inChar      #mov char read to inChar
		pop	%ax
		ret

#Write inChar to console	
putchar:
		push	%ax
		movb    $02,%ah         #specify fn: output dl to stdout
		movb    inChar,%dl      #char to output
		int     $DOS_INT        #output inChar
		pop	%ax
		ret

exit:
		mov	$0x4c,%ah      	#specify fn: program exit
		mov	$0x0,%al        #setup exit status
		int	$DOS_INT        #exit program
	
	

#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO
delay:		push	%ax
		push	%bx
		push	%cx
		mov	$DELAY_HI, %bx
delay1:		mov     $DELAY_LO, %cx
delay2:		mov     $0x0f0a0, %ax
	        imul    %cl
	        dec     %cx
	        jnz     delay2
	        dec     %bx
	        jnz	delay1
	        pop	%cx
		pop	%bx
		pop	%ax
		ret

dorbach1@g7-27:~/i220a/submit/lab12/exercises$ cat block.s[Kcat block.s[K[K[K[K[K[K[K[K[K[K[Kmake block.com
as --32 -a=block.lst block.s -o block.o
objcopy -O binary block.o block.bin
rm block.o
dd if=block.bin of=block.com bs=256 skip=1
0+1 records in
0+1 records out
81 bytes copied, 0.00197118 s, 41.1 kB/s
rm block.bin
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ [Kdorbach1@g7-27:~/i220a/submit/lab12/exercises$         jnzdelay1
bash: jnzdelay1: command not found
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ [Kdorbach1@g7-27:~/i220a/submit/lab12/exercises$ od -x blobck[K[K[Kck.com
0000000 01eb e800 0018 02a0 3c01 7471 b90e 0032
0000020 15e8 e800 0023 7549 ebf7 e8e8 0015 b450
0000040 cd08 a221 0102 c358 b450 8a02 0216 cd01
0000060 5821 b4c3 b04c cd00 5021 5153 02bb b900
0000100 0000 a0b8 f6f0 49e9 f875 754b 59f2 585b
0000120 00c3
0000121
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ od -c block.last[K[K[Kst
0000000   G   A   S       L   I   S   T   I   N   G       b   l   o   c
0000020   k   .   s      \t  \t  \t   p   a   g   e       1  \n  \n  \n
0000040               1                                                
0000060          \t  \t  \t   #   d   o   s       s   t   a   r   t   s
0000100       a   l   l       .   c   o   m       p   r   o   g   r   a
0000120   m   s       a   t       t   h   i   s       o   f   f   s   e
0000140   t  \n               2       0   0   0   0       0   0   0   0
0000160   0   0   0   0      \t  \t  \t   .   o   r   g  \t   0   x   1
0000200   0   0  \n               2                           0   0   0
0000220   0   0   0   0   0      \n               2                    
0000240       0   0   0   0   0   0   0   0      \n               2    
0000260                       0   0   0   0   0   0   0   0      \n    
0000300           2                           0   0   0   0   0   0   0
0000320   0      \n               3                                    
0000340                      \t  \n               4                    
0000360                                      \t  \t                    
0000400               .   c   o   d   e   1   6  \n               5    
0000420                                                      \t  \n    
0000440           6                                                    
0000460      \t   #   D   e   f   i   n   e       c   o   n   s   t   a
0000500   n   t   s  \n               7                                
0000520                          \t   D   O   S   _   I   N   T      \t
0000540   =                               0   x   2   1  \n            
0000560   8                                                          \t
0000600   C   O   U   N   T          \t  \t   =                        
0000620       5   0  \n               9                                
0000640                          \t   Q   U   I   T              \t  \t
0000660   =      \t   '   q   '  \n           1   0                    
0000700                                      \t   D   E   L   A   Y   _
0000720   L   O      \t   =  \t   0   x   0  \n           1   1        
0000740                                                  \t   D   E   L
0000760   A   Y   _   H   I      \t   =  \t   0   x   2  \n           1
0001000   2                                                          \t
0001020  \n           1   3                                            
0001040              \t   #   E   n   t   e   r   e   d       a   t    
0001060   p   r   o   g   r   a   m       s   t   a   r   t   u   p   .
0001100  \n           1   4       0   1   0   0       E   B   0   1    
0001120                  \t  \t  \t   j   m   p  \t   m   a   i   n  \n
0001140           1   5                                                
0001160          \t  \n           1   6                                
0001200                          \t  \n           1   7                
0001220                                          \t   #   d   a   t   a
0001240       a   r   e   a  \t  \n           1   8       0   1   0   2
0001260       0   0                              \t   i   n   C   h   a
0001300   r   :  \t  \t   .   b   y   t   e  \t   0  \n           1   9
0001320                                                          \t  \n
0001340           2   0                                                
0001360          \t   m   a   i   n   :  \n           2   1            
0001400                                              \t   m   a   i   n
0001420   1   :  \t  \n           2   2       0   1   0   3       E   8
0001440   1   8   0   0              \t  \t  \t   c   a   l   l        
0001460           g   e   t   c   h   a   r                            
0001500           #   r   e   a   d       i   n   p   u   t       c   h
0001520   a   r       i   n   t   o       i   n   C   h   a   r  \n    
0001540       2   3       0   1   0   6       A   0   0   2   0   1    
0001560          \t  \t  \t   m   o   v  \t   i   n   C   h   a   r   ,
0001600       %   a   l  \t   #   a   l       s   e   t       t   o    
0001620   c   h   a   r       r   e   a   d  \n           2   4       0
0001640   1   0   9       3   C   7   1                      \t  \t  \t
0001660   c   m   p  \t   $   Q   U   I   T   ,       %   a   l  \t   #
0001700   i   s       i   t       a       Q   U   I   T       c   h   a
0001720   r   a   c   t   e   r   ?  \n           2   5       0   1   0
0001740   b       7   4   0   E                      \t  \t  \t   j   z
0001760  \t   m   a   i   n   3  \t  \t   #   q   u   i   t       i   f
0002000       g   o   t       Q   U   I   T       c   h   a   r   a   c
0002020   t   e   r  \n           2   6       0   1   0   d       B   9
0002040   3   2   0   0              \t  \t  \t   m   o   v            
0002060           $   C   O   U   N   T   ,       %   c   x            
0002100           #   s   e   t       o   u   t   p   u   t       c   o
0002120   u   n   t   e   r  \n           2   7                        
0002140                                  \t   m   a   i   n   2   :    
0002160      \n           2   8       0   1   1   0       E   8   1   5
0002200   0   0              \t  \t                                   c
0002220   a   l   l                   p   u   t   c   h   a   r        
0002240                               #   o   u   t   p   u   t       i
0002260   n   C   h   a   r       t   o       c   o   n   s   o   l   e
0002300  \n           2   9       0   1   1   3       E   8   2   3   0
0002320   0              \t  \t  \t   c   a   l   l                   d
0002340   e   l   a   y                                               #
0002360   d   e   l   a   y       f   o   r       t   i   m   e       p
0002400   r   o   p   o   r   t   i   o   n   a   l       t   o       D
0002420   E   L   A   Y  \n           3   0       0   1   1   6       4
0002440   9                              \t                            
0002460                                       d   e   c  \t   %   c   x
0002500                                                       #   d   e
0002520   c   r   e   m   e   n   t       l   o   o   p       c   o   u
0002540   n   t   e   r  \n           3   1       0   1   1   7       7
0002560   5   F   7                      \t  \t  \t   j   n   z        
0002600               m   a   i   n   2                                
0002620               #   l   o   o   p       i   f       o   u   t   p
0002640   u   t       c   o   u   n   t   e   r       n   o   n   z   e
0002660   r   o  \n           3   2       0   1   1   9       E   B   E
0002700   8                      \t  \t  \t   j   m   p                
0002720       m   a   i   n   1                                        
0002740       #   b   a   c   k       t   o       r   e   a   d       n
0002760   e   x   t       c   h   a   r  \n           3   3       0   1
0003000   1   b       E   8   1   5   0   0              \t   m   a   i
0003020   n   3   :  \t  \t   c   a   l   l  \t   e   x   i   t  \n    
0003040       3   4                                                    
0003060      \t  \n           3   5                                    
0003100                      \t   #   R   e   a   d       n   e   x   t
0003120       c   h   a   r       f   r   o   m       s   t   d   i   n
0003140       i   n   t   o       i   n   C   h   a   r   .           Q
0003160   u   i   t       i   f       ^   C  \n           3   6        
0003200                                                  \t   g   e   t
0003220   c   h   a   r   :  \n           3   7       0   1   1   e    
0003240   5   0                              \t  \t  \t   p   u   s   h
0003260  \t   %   a   x  \n           3   8       0   1   1   f       B
0003300   4   0   8                      \t  \t  \t   m   o   v        
0003320               $   0   x   0   8   ,   %   a   h                
0003340               #   s   p   e   c   i   f   y       f   n   :    
0003360   r   e   a   d       w   i   t   h   o   u   t       e   c   h
0003400   o       i   n   t   o       a   l  \n           3   9       0
0003420   1   2   1       C   D   2   1                      \t  \t  \t
0003440   i   n   t                       $   D   O   S   _   I   N   T
0003460                                   #   r   e   a   d       s   t
0003500   d   i   n       i   n   t   o       %   a   l  \n           4
0003520   0       0   1   2   3       A   2   0   2   0   1            
0003540  \t  \t  \t   m   o   v                       %   a   l   ,   i
0003560   n   C   h   a   r                           #   m   o   v    
0003600   c   h   a   r       r   e   a   d       t   o       i   n   C
0003620   h   a   r  \n           4   1       0   1   2   6       5   8
0003640                              \t  \t  \t   p   o   p  \t   %   a
0003660   x  \n           4   2       0   1   2   7       C   3        
0003700                      \t  \t  \t   r   e   t  \n           4   3
0003720                                                          \t  \n
0003740           4   4                                                
0003760          \t   #   W   r   i   t   e       i   n   C   h   a   r
0004000       t   o       c   o   n   s   o   l   e  \t  \n           4
0004020   5                                                          \t
0004040   p   u   t   c   h   a   r   :  \n           4   6       0   1
0004060   2   8       5   0                              \t  \t  \t   p
0004100   u   s   h  \t   %   a   x  \n           4   7       0   1   2
0004120   9       B   4   0   2                      \t  \t  \t   m   o
0004140   v   b                   $   0   2   ,   %   a   h            
0004160                           #   s   p   e   c   i   f   y       f
0004200   n   :       o   u   t   p   u   t       d   l       t   o    
0004220   s   t   d   o   u   t  \n           4   8       0   1   2   b
0004240       8   A   1   6   0   2   0   1      \t  \t  \t   m   o   v
0004260   b                   i   n   C   h   a   r   ,   %   d   l    
0004300                       #   c   h   a   r       t   o       o   u
0004320   t   p   u   t  \n           4   9       0   1   2   f       C
0004340   D   2   1                      \t  \t  \t   i   n   t        
0004360               $   D   O   S   _   I   N   T                    
0004400               #   o   u   t   p   u   t       i   n   C   h   a
0004420   r  \n           5   0       0   1   3   1       5   8        
0004440                      \t  \t  \t   p   o   p  \t   %   a   x  \n
0004460           5   1       0   1   3   2       C   3                
0004500              \t  \t  \t   r   e   t  \n           5   2        
0004520                                                  \t  \n        
0004540   5   3                                                        
0004560  \t   e   x   i   t   :  \n  \f   G   A   S       L   I   S   T
0004600   I   N   G       b   l   o   c   k   .   s      \t  \t  \t   p
0004620   a   g   e       2  \n  \n  \n           5   4       0   1   3
0004640   3       B   4   4   C                      \t  \t  \t   m   o
0004660   v  \t   $   0   x   4   c   ,   %   a   h                    
0004700      \t   #   s   p   e   c   i   f   y       f   n   :       p
0004720   r   o   g   r   a   m       e   x   i   t  \n           5   5
0004740       0   1   3   5       B   0   0   0                      \t
0004760  \t  \t   m   o   v  \t   $   0   x   0   ,   %   a   l        
0005000                           #   s   e   t   u   p       e   x   i
0005020   t       s   t   a   t   u   s  \n           5   6       0   1
0005040   3   7       C   D   2   1                      \t  \t  \t   i
0005060   n   t  \t   $   D   O   S   _   I   N   T                    
0005100               #   e   x   i   t       p   r   o   g   r   a   m
0005120  \n           5   7                                            
0005140              \t  \t  \n           5   8                        
0005160                                  \t  \t  \n           5   9    
0005200                                                      \t  \n    
0005220       6   0                                                    
0005240      \t   #   s   p   i   n       l   o   o   p       f   o   r
0005260       d   e   l   a   y       t   i   m   e       p   r   o   p
0005300   o   r   t   i   o   n   a   l       t   o       v   a   l   u
0005320   e       i   n       D   E   L   A   Y   _   H   I   _   D   E
0005340   L   A   Y   _   L   O  \n           6   1       0   1   3   9
0005360       5   0                              \t   d   e   l   a   y
0005400   :  \t  \t   p   u   s   h  \t   %   a   x  \n           6   2
0005420       0   1   3   a       5   3                              \t
0005440  \t  \t   p   u   s   h  \t   %   b   x  \n           6   3    
0005460   0   1   3   b       5   1                              \t  \t
0005500  \t   p   u   s   h  \t   %   c   x  \n           6   4       0
0005520   1   3   c       B   B   0   2   0   0              \t  \t  \t
0005540   m   o   v  \t   $   D   E   L   A   Y   _   H   I   ,       %
0005560   b   x  \n           6   5       0   1   3   f       B   9   0
0005600   0   0   0              \t   d   e   l   a   y   1   :  \t  \t
0005620   m   o   v                       $   D   E   L   A   Y   _   L
0005640   O   ,       %   c   x  \n           6   6       0   1   4   2
0005660       B   8   A   0   F   0              \t   d   e   l   a   y
0005700   2   :  \t  \t   m   o   v                       $   0   x   0
0005720   f   0   a   0   ,       %   a   x  \n           6   7       0
0005740   1   4   5       F   6   E   9                      \t  \t    
0005760                               i   m   u   l                   %
0006000   c   l  \n           6   8       0   1   4   7       4   9    
0006020                          \t  \t                                
0006040   d   e   c                       %   c   x  \n           6   9
0006060       0   1   4   8       7   5   F   8                      \t
0006100  \t                                   j   n   z                
0006120       d   e   l   a   y   2  \n           7   0       0   1   4
0006140   a       4   B                              \t  \t            
0006160                       d   e   c                       %   b   x
0006200  \n           7   1       0   1   4   b       7   5   F   2    
0006220                  \t  \t                                   j   n
0006240   z  \t   d   e   l   a   y   1  \n           7   2       0   1
0006260   4   d       5   9                              \t  \t        
0006300                           p   o   p  \t   %   c   x  \n        
0006320   7   3       0   1   4   e       5   B                        
0006340      \t  \t  \t   p   o   p  \t   %   b   x  \n           7   4
0006360       0   1   4   f       5   8                              \t
0006400  \t  \t   p   o   p  \t   %   a   x  \n           7   5       0
0006420   1   5   0       C   3                              \t  \t  \t
0006440   r   e   t  \n           7   6                                
0006460                          \t  \n  \f   G   A   S       L   I   S
0006500   T   I   N   G       b   l   o   c   k   .   s      \t  \t  \t
0006520   p   a   g   e       3  \n  \n  \n   D   E   F   I   N   E   D
0006540       S   Y   M   B   O   L   S  \n                            
0006560                           b   l   o   c   k   .   s   :   7    
0006600                       *   A   B   S   *   :   0   0   0   0   0
0006620   0   0   0   0   0   0   0   0   0   2   1       D   O   S   _
0006640   I   N   T  \n                                                
0006660       b   l   o   c   k   .   s   :   8                        
0006700   *   A   B   S   *   :   0   0   0   0   0   0   0   0   0   0
0006720   0   0   0   0   3   2       C   O   U   N   T  \n            
0006740                                           b   l   o   c   k   .
0006760   s   :   9                           *   A   B   S   *   :   0
0007000   0   0   0   0   0   0   0   0   0   0   0   0   0   7   1    
0007020   Q   U   I   T  \n                                            
0007040           b   l   o   c   k   .   s   :   1   0                
0007060       *   A   B   S   *   :   0   0   0   0   0   0   0   0   0
0007100   0   0   0   0   0   0   0       D   E   L   A   Y   _   L   O
0007120  \n                                                       b   l
0007140   o   c   k   .   s   :   1   1                       *   A   B
0007160   S   *   :   0   0   0   0   0   0   0   0   0   0   0   0   0
0007200   0   0   2       D   E   L   A   Y   _   H   I  \n            
0007220                                           b   l   o   c   k   .
0007240   s   :   2   0                       .   t   e   x   t   :   0
0007260   0   0   0   0   0   0   0   0   0   0   0   0   1   0   3    
0007300   m   a   i   n  \n                                            
0007320           b   l   o   c   k   .   s   :   1   8                
0007340       .   t   e   x   t   :   0   0   0   0   0   0   0   0   0
0007360   0   0   0   0   1   0   2       i   n   C   h   a   r  \n    
0007400                                                   b   l   o   c
0007420   k   .   s   :   2   1                       .   t   e   x   t
0007440   :   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0
0007460   3       m   a   i   n   1  \n                                
0007500                       b   l   o   c   k   .   s   :   3   6    
0007520                   .   t   e   x   t   :   0   0   0   0   0   0
0007540   0   0   0   0   0   0   0   1   1   e       g   e   t   c   h
0007560   a   r  \n                                                    
0007600   b   l   o   c   k   .   s   :   3   3                       .
0007620   t   e   x   t   :   0   0   0   0   0   0   0   0   0   0   0
0007640   0   0   1   1   b       m   a   i   n   3  \n                
0007660                                       b   l   o   c   k   .   s
0007700   :   2   7                       .   t   e   x   t   :   0   0
0007720   0   0   0   0   0   0   0   0   0   0   0   1   1   0       m
0007740   a   i   n   2  \n                                            
0007760           b   l   o   c   k   .   s   :   4   5                
0010000       .   t   e   x   t   :   0   0   0   0   0   0   0   0   0
0010020   0   0   0   0   1   2   8       p   u   t   c   h   a   r  \n
0010040                                                       b   l   o
0010060   c   k   .   s   :   6   1                       .   t   e   x
0010100   t   :   0   0   0   0   0   0   0   0   0   0   0   0   0   1
0010120   3   9       d   e   l   a   y  \n                            
0010140                           b   l   o   c   k   .   s   :   5   3
0010160                       .   t   e   x   t   :   0   0   0   0   0
0010200   0   0   0   0   0   0   0   0   1   3   3       e   x   i   t
0010220  \n                                                       b   l
0010240   o   c   k   .   s   :   6   5                       .   t   e
0010260   x   t   :   0   0   0   0   0   0   0   0   0   0   0   0   0
0010300   1   3   f       d   e   l   a   y   1  \n                    
0010320                                   b   l   o   c   k   .   s   :
0010340   6   6                       .   t   e   x   t   :   0   0   0
0010360   0   0   0   0   0   0   0   0   0   0   1   4   2       d   e
0010400   l   a   y   2  \n  \n   N   O       U   N   D   E   F   I   N
0010420   E   D       S   Y   M   B   O   L   S  \n
0010433
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ more block.lst
GAS LISTING block.s 			page 1


   1              			#dos starts all .com programs at this offset
   2 0000 00000000 			.org	0x100
   2      00000000 
   2      00000000 
   2      00000000 
   2      00000000 
   3              	
   4              		        .code16
   5              	
   6              	#Define constants
   7              	DOS_INT 	=       0x21
   8              	COUNT  		=       50
   9              	QUIT   		= 	'q'
  10              	DELAY_LO 	=	0x0
  11              	DELAY_HI 	=	0x2
  12              	
  13              	#Entered at program startup.
  14 0100 EB01     			jmp	main
  15              	
  16              	
  17              	#data area	
  18 0102 00       	inChar:		.byte	0
  19              	
  20              	main:
  21              	main1:	
  22 0103 E81800   			call    getchar         #read input char into inChar
  23 0106 A00201   			mov	inChar, %al	#al set to char read
[7m--More--(21%)[27m  24 0109 3C71     			cmp	$QUIT, %al	#is it a QUIT character?
[7m--More--(22%)[27m  25 010b 740E     			jz	main3		#quit if got QUIT character
[7m--More--(23%)[27m  26 010d B93200   			mov     $COUNT, %cx     #set output counter
[7m--More--(25%)[27m  27              	main2:  
[7m--More--(25%)[27m  28 0110 E81500   		        call    putchar         #output inChar to console
[7m--More--(27%)[27m  29 0113 E82300   			call    delay           #delay for time proportional to DELAY
[7m--More--(29%)[27m  30 0116 49       	                dec	%cx             #decrement loop counter
[7m--More--(31%)[27m  31 0117 75F7     			jnz     main2           #loop if output counter nonzero
[7m--More--(33%)[27m  32 0119 EBE8     			jmp     main1           #back to read next char
[7m--More--(34%)[27m  33 011b E81500   	main3:		call	exit
[7m--More--(35%)[27m  34              	
[7m--More--(36%)[27m  35              	#Read next char from stdin into inChar.  Quit if ^C
[7m--More--(37%)[27m  36              	getchar:
[7m--More--(38%)[27m  37 011e 50       			push	%ax
[7m--More--(39%)[27m  38 011f B408     			mov     $0x08,%ah       #specify fn: read without echo into al
[7m--More--(41%)[27m  39 0121 CD21     			int     $DOS_INT        #read stdin into %al
[7m--More--(42%)[27m  40 0123 A20201   			mov     %al,inChar      #mov char read to inChar
[7m--More--(44%)[27m  41 0126 58       			pop	%ax
[7m--More--(44%)[27m  42 0127 C3       			ret
[7m--More--(45%)[27m  43              	
[7m--More--(46%)[27m  44              	#Write inChar to console	
[7m--More--(47%)[27m  45              	putchar:
[7m--More--(47%)[27m  46 0128 50       			push	%ax
[7m--More--(48%)[27m  47 0129 B402     			movb    $02,%ah         #specify fn: output dl to stdout
[7m--More--(50%)[27m  48 012b 8A160201 			movb    inChar,%dl      #char to output
[7m--More--(51%)[27m  49 012f CD21     			int     $DOS_INT        #output inChar
[7m--More--(53%)[27m  50 0131 58       			pop	%ax
[7m--More--(53%)[27m  51 0132 C3       			ret
[7m--More--(54%)[27m  52              	
[7m--More--(54%)[27m  53              	exit:
[7m--More--(55%)[27m^LGAS LISTING block.s 			page 2
[7m--More--(56%)[27m[K
[7m--More--(56%)[27m[K
[7m--More--(56%)[27m  54 0133 B44C     			mov	$0x4c,%ah      	#specify fn: program exit
[7m--More--(57%)[27m  55 0135 B000     			mov	$0x0,%al        #setup exit status
[7m--More--(59%)[27m  56 0137 CD21     			int	$DOS_INT        #exit program
[7m--More--(60%)[27m  57              		
[7m--More--(60%)[27m  58              		
[7m--More--(61%)[27m  59              	
[7m--More--(61%)[27m  60              	#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO
[7m--More--(63%)[27m  61 0139 50       	delay:		push	%ax
[7m--More--(64%)[27m  62 013a 53       			push	%bx
[7m--More--(65%)[27m  63 013b 51       			push	%cx
[7m--More--(65%)[27m  64 013c BB0200   			mov	$DELAY_HI, %bx
[7m--More--(66%)[27m  65 013f B90000   	delay1:		mov     $DELAY_LO, %cx
[7m--More--(68%)[27m  66 0142 B8A0F0   	delay2:		mov     $0x0f0a0, %ax
[7m--More--(69%)[27m  67 0145 F6E9     		        imul    %cl
[7m--More--(70%)[27m  68 0147 49       		        dec     %cx
[7m--More--(71%)[27m  69 0148 75F8     		        jnz     delay2
[7m--More--(72%)[27m  70 014a 4B       		        dec     %bx
[7m--More--(73%)[27m  71 014b 75F2     		        jnz	delay1
[7m--More--(74%)[27m  72 014d 59       		        pop	%cx
[7m--More--(74%)[27m  73 014e 5B       			pop	%bx
[7m--More--(75%)[27m  74 014f 58       			pop	%ax
[7m--More--(76%)[27m  75 0150 C3       			ret
[7m--More--(76%)[27m  76              	
[7m--More--(77%)[27m^LGAS LISTING block.s 			page 3
[7m--More--(77%)[27m[K
[7m--More--(78%)[27m[K
[7m--More--(78%)[27mDEFINED SYMBOLS
[7m--More--(78%)[27m             block.s:7      *ABS*:0000000000000021 DOS_INT
[7m--More--(79%)[27m             block.s:8      *ABS*:0000000000000032 COUNT
[7m--More--(81%)[27m             block.s:9      *ABS*:0000000000000071 QUIT
[7m--More--(82%)[27m             block.s:10     *ABS*:0000000000000000 DELAY_LO
[7m--More--(83%)[27m             block.s:11     *ABS*:0000000000000002 DELAY_HI
[7m--More--(85%)[27m             block.s:20     .text:0000000000000103 main
[7m--More--(86%)[27m             block.s:18     .text:0000000000000102 inChar
[7m--More--(87%)[27m             block.s:21     .text:0000000000000103 main1
[7m--More--(88%)[27m             block.s:36     .text:000000000000011e getchar
[7m--More--(90%)[27m             block.s:33     .text:000000000000011b main3
[7m--More--(91%)[27m             block.s:27     .text:0000000000000110 main2
[7m--More--(92%)[27m             block.s:45     .text:0000000000000128 putchar
[7m--More--(94%)[27m             block.s:61     .text:0000000000000139 delay
[7m--More--(95%)[27m             block.s:53     .text:0000000000000133 exit
[7m--More--(96%)[27m             block.s:65     .text:000000000000013f delay1
[7m--More--(98%)[27m             block.s:66     .text:0000000000000142 delay2
[7m--More--(99%)[27m[K
[7m--More--(99%)[27mNO UNDEFINED SYMBOLS
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ more block.lst[Kmore block.lst[Kmore block.lst[Kmore block.lst[Kmore block.lst[Kmore block.lst[Kmore block.lst[1@od -c[C[C[C[C[C[C[C[C[C[Cx block.comc block.lst\[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kjobs
[1]+  Done                    dosbox
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ dpsb[K[K[Kosbox &
[1] 637193
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/dorbach1/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
dosbox &[4Pjobs[K[K[K[K
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ dosbox &[4Pjobsmore block.lst[1@od -c[C[C[C[C[C[C[C[C[C[Cx block.com        jnzdelay1[3Pmake block.com[3Pcat block.smake block.com        jnzdelay1[2Pod -x block.comc block.lst[1Pmore[C[C[C[C[C[C[C[C[C[Cjobs[Kdosbox &[Kvi block.s
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;31r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[31;1H"block.s" 76L, 1751C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[91m#dos starts all .com programs at this offset[m[2;17H[31m.org[m    [95m0x100[m[4;17H[31m.code16[m

[91m#Define constants[m
[94mDOS_INT[m[9C=[7C[95m0x21[m
[94mCOUNT[m[11C=[7C[95m50[m
[94mQUIT[m[12C=[7C'[94mq[m'
[94mDELAY_LO[m[8C=[7C[95m0x0[m
[94mDELAY_HI[m[8C=[7C[95m0x2[m

[91m#Entered at program startup.[m[14;17H[94mjmp[m     [94mmain[m


[91m#data area      [m
[94minChar[m:[9C[31m.byte[m   [95m0[m

[94mmain[m:
[94mmain1[m:[22;17H[94mcall[m    [94mgetchar[m[9C[91m#read input char into inChar[m[23;17H[94mmov[m     [94minChar[m, %[94mal[m     [91m#al set to char read[m[24;17H[94mcmp[m     $[94mQUIT[m, %[94mal[m      [91m#is it a QUIT character?[m[25;17H[94mjz[m      [94mmain3[m[11C[91m#quit if got QUIT character[m[26;17H[94mmov[m     $[94mCOUNT[m, %[94mcx[m     [91m#set output counter[m
[94mmain2[m:[28;17H[94mcall[m    [94mputchar[m[9C[91m#output inChar to console[m[29;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[30;17H[94mdec[m     %[94mcx[m[13C[91m#decrement loop counter[m[31;87H1,3-17[8CTop]2;block.s (~/projects/i220a/submit/lab12/exercises) - VIM]1;block.s[1;17H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[31;87H2[2;17H[?25h[?25l[31;87H3,0-1 [3;1H[?25h[?25l[31;87H4,10-17[4;17H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,10-17[7;17H[?25h[?25l[31;87H8[8;17H[?25h[?25l[31;87H9[9;17H[?25h[?25l[31;87H10,11-17[10;17H[?25h[?25l[31;88H1[11;17H[?25h[?25l[31;88H2,0-1  [12;1H[?25h[?25l[31;88H3,17 [13;17H[?25h[?25l[31;88H4,3-17[14;17H[?25h[?25l[31;88H5,0-1 [15;1H[?25h[?25l[31;88H6[16;1H[?25h[?25l[31;88H7,11-16[17;16H[?25h[?25l[31;88H8,10-17[18;17H[?25h[?25l[31;88H9,0-1  [19;1H[?25h[?25l[31;87H20,5  [20;5H[?25h[?25l[31;88H1,7-8[21;8H[?25h[?25l[31;88H2,3-17[22;17H[?25h[?25l[31;88H3[23;17H[?25h[?25l[31;88H4[24;17H[?25h[?25l[31;88H5[25;17H[?25h[?25l[31;88H6[26;17H[?25h[?25l[31;88H7,8   [27;8H[?25h[?25l[31;88H8,10-17[28;17H[?25h[?25l[31;88H9,3-17 [29;17H[?25h[?25l[31;87H30,17  [30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjnz[m     [94mmain2[m[11C[91m#loop if output counter nonzero[m[31;1H[K[31;87H31,3-17[8C2%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjmp[m     [94mmain1[m[11C[91m#back to read next char[m[31;87H[K[31;87H32,3-17[8C4%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain3[m:[10C[94mcall[m    [94mexit[m[31;87H[K[31;87H33,9-17[8C6%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H34,0-1[9C8%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Read next char from stdin into inChar.  Quit if ^C[m[31;87H[K[31;87H35,17[9C10%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mgetchar[m:[31;87H[K[31;87H36,8[10C13%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94max[m[31;87H[K[31;87H37,3-17[7C15%[30;17H[?25h[?25l[31;88H6,8   [29;8H[?25h[?25l[31;88H5,17[28;17H[?25h[?25l[31;88H4,0-1[27;1H[?25h[?25l[31;88H3,9-17[26;17H[?25h[?25l[31;88H2,3[25;17H[?25h[?25l[31;88H1[24;17H[?25h[?25l[31;88H0,17  [23;17H[?25h[?25l[31;87H29,3-17[22;17H[?25h[?25l[31;88H8,10-17[21;17H[?25h[?25l[31;88H7,8    [20;8H[?25h[?25l[31;88H6,3-17[19;17H[?25h[?25l[31;88H5[18;17H[?25h[?25l[31;88H4[17;17H[?25h[?25l[31;88H3[16;17H[?25h[?25l[31;88H2[15;17H[?25h[?25l[31;88H1,7-8 [14;8H[?25h[?25l[31;88H0,5  [13;5H[?25h[?25l[31;87H19,0-1[12;1H[?25h[?25l[31;88H8,10-17[11;17H[?25h[?25l[31;88H7,11-16[10;16H[?25h[?25l[31;88H6,0-1  [9;1H[?25h[?25l[31;88H5[8;1H[?25h[?25l[31;88H4,3-17[7;17H[?25h[?25l[31;88H3,17  [6;17H[?25h[?25l[31;88H2,0-1[5;1H[?25h[?25l[31;88H1,11-17[4;17H[?25h[?25l[31;88H0[3;17H[?25h[?25l[31;87H9,10-17 [2;17H[?25h[?25l[31;87H8[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mDOS_INT[m[9C=[7C[95m0x21[m[31;87H[K[31;87H7,10-17[7C13%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#Define constants[m[31;87H[K[31;87H6,17[10C10%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H5,0-1[10C8%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[31m.code16[m[31;87H[K[31;87H4,10-17[8C6%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H3,0-1[10C4%[1;1H[?25h[?25l[31;87H4,10-17[2;17H[?25h[?25l[31;87H5,0-1  [3;1H[?25h[?25l[31;87H6,17 [4;17H[?25h[?25l[31;87H7,10-17[5;17H[?25h[?25l[31;87H8[6;17H[?25h[?25l[31;87H9[7;17H[?25h[?25l[31;87H10,11-17[8;17H[?25h[?25l[31;88H1[9;17H[?25h[?25l[31;88H0[8;17H[?25h[?25l[31;87H9,10-17 [7;17H[?25h[?25l[31;87H8[6;17H[?25h[?25l[31;87H7[5;17H[?25h[?25l[31;87H6,17   [4;17H[?25h[?25l[31;87H5,0-1[3;1H[?25h[?25l[31;87H4,10-17[2;17H[?25h[?25l[31;87H3,0-1  [1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[31m.org[m    [95m0x100[m[31;87H[K[31;87H2,3-17[9C2%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[91m#dos starts all .com programs at this offset[m[31;87H[K[31;87H1,3-17[8CTop[1;17H[?25h[?25l[31;87H2[2;17H[?25h[?25l[31;87H3,0-1 [3;1H[?25h[?25l[31;87H4,10-17[4;17H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,10-17[7;17H[?25h[?25l[31;87H8[8;17H[?25h[?25l[31;87H9[9;17H[?25h[?25l[31;87H10,11-17[10;17H[?25h[?25l[31;88H1[11;17H[?25h[?25l[31;88H2,0-1  [12;1H[?25h[?25l[31;88H3,17 [13;17H[?25h[?25l[31;88H4,3-17[14;17H[?25h[?25l[31;88H5,0-1 [15;1H[?25h[?25l[31;88H6[16;1H[?25h[?25l[31;88H7,11-16[17;16H[?25h[?25l[31;88H8,10-17[18;17H[?25h[?25l[31;88H9,0-1  [19;1H[?25h[?25l[31;87H20,5  [20;5H[?25h[?25l[31;88H1,7-8[21;8H[?25h[?25l[31;88H2,3-17[22;17H[?25h[?25l[31;88H3[23;17H[?25h[?25l[31;88H4[24;17H[?25h[?25l[31;88H5[25;17H[?25h[?25l[31;88H6[26;17H[?25h[?25l[31;88H7,8   [27;8H[?25h[?25l[31;88H8,10-17[28;17H[?25h[?25l[31;88H9,3-17 [29;17H[?25h[?25l[31;87H30,17  [30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjnz[m     [94mmain2[m[11C[91m#loop if output counter nonzero[m[31;87H[K[31;87H31,3-17[8C2%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjmp[m     [94mmain1[m[11C[91m#back to read next char[m[31;87H[K[31;87H32,3-17[8C4%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain3[m:[10C[94mcall[m    [94mexit[m[31;87H[K[31;87H33,9-17[8C6%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H34,0-1[9C8%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Read next char from stdin into inChar.  Quit if ^C[m[31;87H[K[31;87H35,17[9C10%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mgetchar[m:[31;87H[K[31;87H36,8[10C13%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94max[m[31;87H[K[31;87H37,3-17[7C15%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x08[m,%[94mah[m[7C[91m#specify fn: read without echo into al[m[31;87H[K[31;87H38,3-17[7C17%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#read stdin into %al[m[31;87H[K[31;87H39,3-17[7C19%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mal[m,[94minChar[m      [91m#mov char read to inChar[m[31;87H[K[31;87H40,3-17[7C21%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94max[m[31;87H[K[31;87H41,3-17[7C23%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mret[m[31;87H[K[31;87H42,3-17[7C26%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H43,0-1[8C28%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Write inChar to console        [m[31;87H[K[31;87H44,17[9C30%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mputchar[m:[31;87H[K[31;87H45,8[10C32%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94max[m[31;87H[K[31;87H46,3-17[7C34%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmovb[m    $[95m02,[m%[94mah[m[9C[91m#specify fn: output dl to stdout[m[31;87H[K[31;87H47,3-17[7C36%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmovb[m    [94minChar[m,%[94mdl[m      [91m#char to output[m[31;87H[K[31;87H48,3-17[7C39%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#output inChar[m[31;87H[K[31;87H49,3-17[7C41%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94max[m[31;87H[K[31;87H50,3-17[7C43%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mret[m[31;87H[K[31;87H51,3-17[7C45%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H52,0-1[8C47%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mexit[m:[31;87H[K[31;87H53,5[10C50%[30;5H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x4c[m,%[94mah[m[7C[91m#specify fn: program exit[m[31;87H[K[31;87H54,3-17[7C52%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x0[m,%[94mal[m[8C[91m#setup exit status[m[31;87H[K[31;87H55,3-17[7C54%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#exit program[m[31;87H[K[31;87H56,3-17[7C56%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H57,1-8[8C58%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H58,1-8[8C60%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H59,0-1[8C63%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[31;87H[K[31;87H60,17[9C65%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mdelay[m:[10C[94mpush[m    %[94max[m[31;87H[K[31;87H61,9-17[7C67%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mbx[m[31;87H[K[31;87H62,3-17[7C69%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mcx[m[31;87H[K[31;87H63,3-17[7C71%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mDELAY_HI[m, %[94mbx[m[31;87H[K[31;87H64,3-17[7C73%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mdelay1[m:[9C[94mmov[m     $[94mDELAY_LO[m, %[94mcx[m[31;87H[K[31;87H65,10-17      76%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mdelay2[m:[9C[94mmov[m     $[95m0x0f0a0[m, %[94max[m[31;87H[K[31;87H66,10-17      78%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mimul[m    %[94mcl[m[31;87H[K[31;87H67,10-17      80%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mdec[m     %[94mcx[m[31;87H[K[31;87H68,10-17      82%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjnz[m     [94mdelay2[m[31;87H[K[31;87H69,10-17      84%[30;17H[?25h[?25l[31;88H8[29;17H[?25h[?25l[31;88H7[28;17H[?25h[?25l[31;88H6[27;17H[?25h[?25l[31;88H5[26;17H[?25h[?25l[31;91H1-18[26;18H[?25h[?25l[31;91H2-19[26;19H[?25h[?25l[31;91H3-20[26;20H[?25h[?25l[31;91H4-21[26;21H[?25h[?25l[31;91H5-22[26;22H[?25h[?25l[31;91H6-23[26;23H[?25h[?25l[31;91H7-24[26;24H[?25h[?25l[31;91H8-25[26;25H[?25h[?25l[31;91H9-26[26;26H[?25h[?25l[31;90H20-27[26;27H[?25h[?25l[31;91H1-28[26;28H[?25h[?25l[31;91H2-29[26;29H[?25h[?25l[31;91H3-30[26;30H[?25h[?25l[31;91H4-31[26;31H[?25h[?25l[31;91H5-32[26;32H[?25h[?25l[31;91H6-33[26;33H[?25h[?25l[31;91H7-34[26;34H[?25h[?25l[31;91H8-35[26;35H[?25h[?25l[31;91H9-36[26;36H[?25h[?25l[31;90H30-37[26;37H[?25h[?25l[31;91H1-38[26;38H[?25h[?25l[31;88H6,30-37[27;37H[?25h[?25l[31;88H7,20-2[28;27H[?25h[?25l[31;88H8[29;27H[?25h[?25l[31;88H9,23-30[30;30H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mdec[m     %[94mbx[m[31;87H[K[31;87H70,20-27      86%[30;27H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjnz[m     [94mdelay1[m[31;87H[K[31;87H71,19-30      89%[30;30H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mcx[m[31;87H[K[31;87H72,16-27      91%[30;27H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mbx[m[31;87H[K[31;87H73,9-27[7C93%[30;27H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94max[m[31;87H[K[31;87H74,9-27[7C95%[30;27H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mret[m[31;87H[K[31;87H75,5-19[7C97%[30;19H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H76,0-1[8CBot[30;1H[?25h[?25l[31;88H5,5-19[29;19H[?25h[?25l[31;88H4,9-27[28;27H[?25h[?25l[31;88H3[27;27H[?25h[?25l[31;88H2,16-27[26;27H[?25h[?25l[31;88H1,19-30[25;30H[?25h[?25l[31;88H0,20-27[24;27H[?25h[?25l[31;87H69,23-30[23;30H[?25h[?25l[31;88H8,20-27[22;27H[?25h[?25l[31;88H7[21;27H[?25h[?25l[31;88H6,30-3[20;37H[?25h[?25l[31;88H5,31-38[19;38H[?25h[?25l[31;88H4,20[18;38H[?25h[?25l[31;88H3,10-27[17;27H[?25h[?25l[31;88H2[16;27H[?25h[?25l[31;88H1,16[15;27H[?25h[?25l[31;88H0,38   [14;38H[?25h[?25l[31;87H59,0-1[13;1H[?25h[?25l[31;88H8,1-8[12;8H[?25h[?25l[31;88H7[11;8H[?25h[?25l[31;88H6,20-38[10;38H[?25h[?25l[31;88H5[9;38H[?25h[?25l[31;88H4[8;38H[?25h[?25l[31;88H3,5    [7;5H[?25h[?25l[31;88H2,0-1[6;1H[?25h[?25l[31;88H1,5-19[5;19H[?25h[?25l[31;88H0,9-27[4;27H[?25h[?25l[31;87H49,24-38[3;38H[?25h[?25l[31;88H8[2;38H[?25h[?25l[31;88H7[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mpush[m    %[94max[m[31;87H[K[31;87H46,10-27      97%[1;27H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mputchar[m:[31;87H[K[31;87H45,8[10C95%[1;8H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#Write inChar to console        [m[31;87H[K[31;87H44,25-32      93%[1;32H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H43,0-1[8C91%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mret[m[31;87H[K[31;87H42,5-19[7C89%[1;19H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mpop[m     %[94max[m[31;87H[K[31;87H41,9-27[7C86%[1;27H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mmov[m     %[94mal[m,[94minChar[m      [91m#mov char read to inChar[m[31;87H[K[31;87H40,24-38      84%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mint[m     $[94mDOS_INT[m[8C[91m#read stdin into %al[m[31;87H[K[31;87H39,24-38      82%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mmov[m     $[95m0x08[m,%[94mah[m[7C[91m#specify fn: read without echo into al[m[31;87H[K[31;87H38,24-38      80%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mpush[m    %[94max[m[31;87H[K[31;87H37,10-27      78%[1;27H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mgetchar[m:[31;87H[K[31;87H36,8[10C76%[1;8H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#Read next char from stdin into inChar.  Quit if ^C[m[31;87H[K[31;87H35,38[9C73%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H34,0-1[8C71%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mmain3[m:[10C[94mcall[m    [94mexit[m[31;87H[K[31;87H33,17-28      69%[1;28H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mjmp[m     [94mmain1[m[11C[91m#back to read next char[m[31;87H[K[31;87H32,24-38      67%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mjnz[m     [94mmain2[m[11C[91m#loop if output counter nonzero[m[31;87H[K[31;87H31,24-38      65%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mdec[m     %[94mcx[m[13C[91m#decrement loop counter[m[31;87H[K[31;87H30,34-38      63%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[31;87H[K[31;87H29,24-38      60%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mcall[m    [94mputchar[m[9C[91m#output inChar to console[m[31;87H[K[31;87H28,31-38      58%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mmain2[m:[31;87H[K[31;87H27,8[10C56%[1;8H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mmov[m     $[94mCOUNT[m, %[94mcx[m     [91m#set output counter[m[31;87H[K[31;87H26,24-38      54%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mjz[m      [94mmain3[m[11C[91m#quit if got QUIT character[m[31;87H[K[31;87H25,12-40      52%[1;40H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mcmp[m     $[94mQUIT[m, %[94mal[m      [91m#is it a QUIT character?[m[31;87H[K[31;87H24,17-40      50%[1;40H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mmov[m     [94minChar[m, %[94mal[m     [91m#al set to char read[m[31;87H[K[31;87H23,18-40      47%[1;40H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mcall[m    [94mgetchar[m[9C[91m#read input char into inChar[m[31;87H[K[31;87H22,24-38      45%[1;38H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mmain1[m:[31;87H[K[31;87H21,7-8[8C43%[1;8H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mmain[m:[31;87H[K[31;87H20,5[10C41%[1;5H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H19,0-1[8C39%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94minChar[m:[9C[31m.byte[m   [95m0[m[31;87H[K[31;87H18,16-25      36%[1;25H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#data area      [m[31;87H[K[31;87H17,11-16      34%[1;16H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H16,0-1[8C32%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H15,0-1[8C30%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[94mjmp[m     [94mmain[m[31;87H[K[31;87H14,10-28      28%[1;28H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#Entered at program startup.[m[31;87H[K[31;87H13,28[9C26%[1;28H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H12,0-1[8C23%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mDELAY_HI[m[8C=[7C[95m0x2[m[31;87H[K[31;87H11,15-27      21%[1;27H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mDELAY_LO[m[8C=[7C[95m0x0[m[31;87H[K[31;87H10,15-27      19%[1;27H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mQUIT[m[12C=[7C'[94mq[m'[31;87H[K[31;87H9,15-27[7C17%[1;27H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mCOUNT[m[11C=[7C[95m50[m[31;87H[K[31;87H8,19-26[7C15%[1;26H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mDOS_INT[m[9C=[7C[95m0x21[m[31;87H[K[31;87H7,21-28[7C13%[1;28H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#Define constants[m[31;87H[K[31;87H6,17[10C10%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H5,0-1[10C8%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[31m.code16[m[31;87H[K[31;87H4,16-23[8C6%[1;23H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H3,0-1[10C4%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[31m.org[m    [95m0x100[m[31;87H[K[31;87H2,12-29[8C2%[1;29H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[91m#dos starts all .com programs at this offset[m[31;87H[K[31;87H1,24-38[7CTop[1;38H[?25h[?25l[31;87H2,12-29[2;29H[?25h[?25l[31;87H3,0-1  [3;1H[?25h[?25l[31;87H4,16-23[4;23H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,21-28[7;28H[?25h[?25l[31;87H8,19-26[8;26H[?25h[?25l[31;87H9,15-27[9;27H[?25h[?25l[31;87H10,15-27[10;27H[?25h[?25l[31;88H1[11;27H[?25h[?25l[31;1H[1m-- INSERT --[m[31;87H[K[31;87H11,15-27      Top[11;27H[?25h[?25l[31;91H6-28[11;28H[?25h[?25l0[94mx[m[11;27H[K[31;91H5-27]2;block.s + (~/projects/i220a/submit/lab12/exercises) - VIM]1;block.s[11;27H[?25h[?25l[95m0x1[m[31;91H6-28[11;28H[?25h[?25l[31;88H0[10;28H[?25h[?25l[31;87H9,16-28 [9;28H[?25h[?25l[31;87H8,20-27[8;27H[?25h[?25l[31;87H7,21-28[7;28H[?25h[?25l[31;90H2-29[7;29H[?25h[?25l[31;87H8,20-27[8;27H[?25h[?25l[8;26H[K[31;89H19-26[8;26H[?25h[?25l[8;25H[K[31;90H8-25[8;25H[?25h[?25l[95m2[m[31;90H9-26[8;26H[?25h[?25l[95m5[m[31;89H20-27[8;27H[?25h[31;1H[K[8;26H[?25l[31;87H8,19-26[7CTop[8;26H[?25h[?25l[31;87H[K[31;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"block.s" 76L, 1751C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tdorbach1@g7-27:~/i220a/submit/lab12/exercises$ mae[Kke block.s
make: Nothing to be done for 'block.s'.
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ mk[Kake block.com
as --32 -a=block.lst block.s -o block.o
objcopy -O binary block.o block.bin
rm block.o
dd if=block.bin of=block.com bs=256 skip=1
0+1 records in
0+1 records out
81 bytes copied, 0.00151205 s, 53.6 kB/s
rm block.bin
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ jobs
[1]+  Running                 dosbox &
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ q[Kkill [K[K[K[K[Kjobs -l
[1]+ 637193 Running                 dosbox &
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ kill 1
bash: kill: (1) - Operation not permitted
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ k[Kkill 637193
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ dob[Ksbox &
[2] 637688
[1]   Done                    dosbox
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---

dorbach1@g7-27:~/i220a/submit/lab12/exercises$  CONFIG:Loading primary settings from config file /home/dorbach1/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none

dorbach1@g7-27:~/i220a/submit/lab12/exercises$ 
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ ls
block.com  block.lst  block.s  key-int.s  labN.LOG  Makefile  poll.s
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ m[Kc[Kd[Kcd poll[K[K[K[K[K[Kvi p[K[K[K[K[Kvi poll.s
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;31r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[31;1H"poll.s" 96L, 2295C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[91m#dos starts all .com programs at this offset[m[2;17H[31m.org[m    [95m0x100[m[4;17H[31m.code16[m

[91m#Define constants[m
[94mDOS_INT[m[9C=[7C[95m0x21[m
[94mCOUNT[m[11C=[8C[95m50[m
[94mQUIT[m[12C=[7C'[94mq[m'
[94mDELAY_LO[m[8C=[7C[95m0x0[m
[94mDELAY_HI[m[8C=[7C[95m0x2[m

[91m#Entered at program startup.[m[14;17H[94mjmp[m     [94mmain[m


[91m#data area      [m
[94minChar[m:[9C[31m.byte[m   [95m0[m
[94mhasKey[m:[9C[31m.byte[m   [95m1[m

[94mmain[m:
[94mmain1[m:[23;17H[94mcall[m    [94mgetchar[m[9C[91m#read input char into inChar[m[24;17H[94mmov[m     [94minChar[m, %[94mal[m     [91m#al set to char read[m[25;17H[94mcmp[m     $[94mQUIT[m, %[94mal[m      [91m#is it a QUIT character?[m[26;17H[94mjz[m      [94mmain3[m[11C[91m#quit if got QUIT character[m[27;17H[94mmov[m     $[94mCOUNT[m, %[94mcx[m     [91m#set output counter[m
[94mmain2[m:[29;17H[94mcall[m    [94mcheckKey[m[8C[91m#check if key has been pressed[m[30;17H[94mmov[m     [94mhasKey[m, %[94mal[m     [91m#put checkKey result into al[m[31;87H1,3-17[8CTop]2;poll.s (~/projects/i220a/submit/lab12/exercises) - VIM]1;poll.s[1;17H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[31;87H2[2;17H[?25h[?25l[31;87H3,0-1 [3;1H[?25h[?25l[31;87H4,10-17[4;17H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,10-17[7;17H[?25h[?25l[31;87H8[8;17H[?25h[?25l[31;87H9[9;17H[?25h[?25l[31;87H10,11-17[10;17H[?25h[?25l[31;88H1[11;17H[?25h[?25l[31;88H2,0-1  [12;1H[?25h[?25l[31;88H3,17 [13;17H[?25h[?25l[31;88H4,3-17[14;17H[?25h[?25l[31;88H5,0-1 [15;1H[?25h[?25l[31;88H6[16;1H[?25h[?25l[31;88H7,11-16[17;16H[?25h[?25l[31;88H8,10-17[18;17H[?25h[?25l[31;88H9[19;17H[?25h[?25l[31;87H20,0-1  [20;1H[?25h[?25l[31;88H1,5  [21;5H[?25h[?25l[31;88H2,7-8[22;8H[?25h[?25l[31;88H3,3-17[23;17H[?25h[?25l[31;88H4[24;17H[?25h[?25l[31;88H5[25;17H[?25h[?25l[31;88H6[26;17H[?25h[?25l[31;88H7[27;17H[?25h[?25l[31;88H8,6   [28;6H[?25h[?25l[31;88H9,10-17[29;17H[?25h[?25l[31;87H30,3-17 [30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mtest[m    %[94mal[m, %[94mal[m[8C[91m#non-zero if keyboard has char[m[31;1H[K[31;87H31,3-17[8C1%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m      [94mmain4[m[11C[91m#no key press[m[31;87H[K[31;87H32,10-17[7C3%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mxor[m     %[94mal[m, %[94mal[m[31;87H[K[31;87H33,10-17[7C4%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mal[m, [94mhasKey[m     [91m#reset hasKey flag[m[31;87H[K[31;87H34,3-17[8C6%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mgetchar[m[9C[91m#read new input key[m[31;87H[K[31;87H35,3-17[8C7%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain4[m:[31;87H[K[31;87H36,7-8[9C9%[30;8H[?25h[?25l[31;88H5,3-17[29;17H[?25h[?25l[31;88H4[28;17H[?25h[?25l[31;88H3,10-17[27;17H[?25h[?25l[31;88H2[26;17H[?25h[?25l[31;88H1,3-17 [25;17H[?25h[?25l[31;88H0[24;17H[?25h[?25l[31;87H29,10-17[23;17H[?25h[?25l[31;88H8,6    [22;6H[?25h[?25l[31;88H9,10-17[23;17H[?25h[?25l[31;87H30,3-17 [24;17H[?25h[?25l[31;88H1[25;17H[?25h[?25l[31;88H2,10-17[26;17H[?25h[?25l[31;88H3[27;17H[?25h[?25l[31;91H1-18[27;18H[?25h[?25l[31;91H2-19[27;19H[?25h[?25l[31;91H3-24[27;24H[?25h[?25l[31;91H4-25[27;25H[?25h[?25l[31;91H5-26[27;26H[?25h[?25l[31;91H6-27[27;27H[?25h[?25l[31;91H5-26[27;26H[?25h[?25l[31;88H4,8-26 [28;26H[?25h[?25l[31;88H5,9[29;26H[?25h[?25l[31;88H6,7-8 [30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mputchar[m[9C[91m#output inChar to console[m[31;87H[K[31;87H37,19-26      10%[30;26H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[31;87H[K[31;87H38,12-26      12%[30;26H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mdec[m     %[94mcx[m[13C[91m#decrement loop counter[m[31;87H[K[31;87H39,22-26      13%[30;26H[?25h[?25l[31;88H8,1[29;26H[?25h[?25l[31;88H7,19[28;26H[?25h[?25l[31;88H6,7-8  [27;8H[?25h[?25l[31;88H5,9-26[26;26H[?25h[?25l[31;88H4,8[25;26H[?25h[?25l[31;88H5,9[26;26H[?25h[?25l[31;90H10-27[26;27H[?25h[?25l[31;91H1-28[26;28H[?25h[?25l[31;91H2-29[26;29H[?25h[?25l[31;91H3-30[26;30H[?25h[?25l[31;91H4-31[26;31H[?25h[?25l[31;91H5-32[26;32H[?25h[?25l[31;91H6-33[26;33H[?25h[?25l[31;91H7-34[26;34H[?25h[?25l[31;91H8-35[26;35H[?25h[?25l[31;91H9-36[26;36H[?25h[?25l[31;90H20-37[26;37H[?25h[?25l[31;91H1-38[26;38H[?25h[?25l[31;91H2-39[26;39H[?25h[?25l[31;91H3-40[26;40H[?25h[?25l[31;91H4-41[26;41H[?25h[?25l[31;91H5-42[26;42H[?25h[?25l[31;91H6-43[26;43H[?25h[?25l[31;91H7-44[26;44H[?25h[?25l[31;91H8-45[26;45H[?25h[?25l[31;91H9-46[26;46H[?25h[?25l[31;90H30-47[26;47H[?25h[?25l[31;91H1-48[26;48H[?25h[?25l[31;91H2-49[26;49H[?25h[?25l[31;91H3-50[26;50H[?25h[?25l[31;91H4-51[26;51H[?25h[?25l[31;91H5-52[26;52H[?25h[?25l[31;91H6-53[26;53H[?25h[?25l[31;91H7-54[26;54H[?25h[?25l[31;91H8-55[26;55H[?25h[?25l[31;91H9-56[26;56H[?25h[?25l[31;90H40-57[26;57H[?25h[?25l[31;91H1-58[26;58H[?25h[?25l[31;91H2-59[26;59H[?25h[?25l[31;88H6,7-8  [27;8H[?25h[?25l[31;88H7,52-59[28;59H[?25h[?25l[31;88H6,7-8  [27;8H[?25h[?25l[31;88H7,52-59[28;59H[?25h[?25l[31;88H8,45[29;59H[?25h[?25l[31;88H9,5[30;59H[?25h[?25l[31;88H8,4[29;59H[?25h[?25l[31;88H7,52[28;59H[?25h[?25l[31;91H1-58[28;58H[?25h[?25l[31;91H0-57[28;57H[?25h[?25l[31;90H49-56[28;56H[?25h[?25l[31;91H8-55[28;55H[?25h[?25l[31;91H7-54[28;54H[?25h[?25l[31;91H6-53[28;53H[?25h[?25l[31;91H5-52[28;52H[?25h[?25l[31;91H4-51[28;51H[?25h[?25l[31;91H3-50[28;50H[?25h[?25l[31;91H2-49[28;49H[?25h[?25l[31;91H1-48[28;48H[?25h[?25l[31;91H0-47[28;47H[?25h[?25l[31;90H39-46[28;46H[?25h[?25l[31;90H40-47[28;47H[?25h[?25l[31;91H1-48[28;48H[?25h[?25l[31;91H2-49[28;49H[?25h[?25l[31;91H3-50[28;50H[?25h[?25l[31;91H4-51[28;51H[?25h[?25l[31;91H5-52[28;52H[?25h[?25l[31;91H6-53[28;53H[?25h[?25l[31;91H7-54[28;54H[?25h[?25l[31;91H8-55[28;55H[?25h[?25l[31;91H9-56[28;56H[?25h[?25l[31;90H50-57[28;57H[?25h[?25l[31;91H1-58[28;58H[?25h[?25l[31;91H2-59[28;59H[?25h[?25l[31;91H3-60[28;60H[?25h[?25l[31;91H4-61[28;61H[?25h[?25l[31;91H5-62[28;62H[?25h[?25l[31;91H6-63[28;63H[?25h[?25l[31;91H7-64[28;64H[?25h[?25l[31;91H8-65[28;65H[?25h[?25l


[1m-- INSERT --[m[31;87H[K[31;87H37,58-65      13%[28;65H[?25h[?25l[31;91H9-66[28;66H[?25h[?25l[29;17H[K[30;17H[94mcall[m    [94mdelay[m[14C[91mlay for time proportional to DELAY[m[31;88H8,1    ]2;poll.s + (~/projects/i220a/submit/lab12/exercises) - VIM]1;poll.s[29;1H[?25h[?25l[31;90H2-9[29;9H[?25h[?25l[31;90H3-17[29;17H[?25h[?25l[94mm[m[31;90H4-18[29;18H[?25h[?25l[94mo[m[31;90H5-19[29;19H[?25h[?25l[94mp[m[31;90H6-20[29;20H[?25h[?25l[94mv[m[31;90H7-21[29;21H[?25h[?25l[29;20H[K[31;90H6-20[29;20H[?25h[?25l[29;19H[K[31;90H5-19[29;19H[?25h[?25l[94mv[m[31;90H6-20[29;20H[?25h[?25l[31;90H7-21[29;21H[?25h[?25l[94mi[m[31;90H8-22[29;22H[?25h[?25l[94mn[m[31;90H9-23[29;23H[?25h[?25l[94mC[m[31;90H10-24[29;24H[?25h[?25l[94mh[m[31;91H1-25[29;25H[?25h[?25l[94ma[m[31;91H2-26[29;26H[?25h[?25l[94mr[m[31;91H3-27[29;27H[?25h[?25l,[31;91H4-28[29;28H[?25h[?25l[31;91H5-29[29;29H[?25h[?25l%[31;91H6-30[29;30H[?25h[?25l[94ma[m[31;91H7-31[29;31H[?25h[?25l[94m1[m[31;91H8-32[29;32H[?25h[?25l[30;17H[K[31;88H9,1    [30;1H[?25h[?25l[31;90H2-9[30;9H[?25h[?25l[31;90H3-17[30;17H[?25h[?25l[94mc[m[31;90H4-18[30;18H[?25h[?25l[94mm[m[31;90H5-19[30;19H[?25h[?25l[94mp[m[31;90H6-20[30;20H[?25h[?25l[31;90H7-21[30;21H[?25h[?25l$[31;90H8-22[30;22H[?25h[?25l[94mQ[m[31;90H9-23[30;23H[?25h[?25l[94mU[m[31;90H10-24[30;24H[?25h[?25l[94mI[m[31;91H1-25[30;25H[?25h[?25l[94mT[m[31;91H2-26[30;26H[?25h[?25l,[31;91H3-27[30;27H[?25h[?25l[31;91H4-28[30;28H[?25h[?25l%[31;91H5-29[30;29H[?25h[?25l[94ma[m[31;91H6-30[30;30H[?25h[?25l[94m1[m[31;91H7-31[30;31H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H40,1[10C14%[30;1H[?25h[?25l[31;90H2-9[30;9H[?25h[?25l[31;90H3-17[30;17H[?25h[?25l[94mj[m[31;90H4-18[30;18H[?25h[?25l[94mz[m[31;90H5-19[30;19H[?25h[?25l[31;90H6-20[30;20H[?25h[?25l,[31;90H7-21[30;21H[?25h[?25l[94ma[m[31;90H8-22[30;22H[?25h[?25l[94mo[m[31;90H9-23[30;23H[?25h[?25l[94mm[m[31;90H10-24[30;24H[?25h[?25l[94m3[m[31;91H1-25[30;25H[?25h[?25l[30;24H[K[31;91H0-24[30;24H[?25h[?25l[30;23H[K[31;90H9-23 [30;23H[?25h[?25l[30;22H[K[31;90H8-22[30;22H[?25h[?25l[30;21H[K[31;90H7-21[30;21H[?25h[?25l[30;20H[K[31;90H6-20[30;20H[?25h[?25l[94mm[m[31;90H7-21[30;21H[?25h[?25l[94ma[m[31;90H8-22[30;22H[?25h[?25l[94mi[m[31;90H9-23[30;23H[?25h[?25l[94mn[m[31;90H10-24[30;24H[?25h[?25l[94m3[m[31;91H1-25[30;25H[?25h[31;1H[K[30;24H[?25l[31;87H40,10-24      14%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[31;87H[K[31;87H41,10-24      15%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mdec[m     %[94mcx[m[13C[91m#decrement loop counter[m[31;87H[K[31;87H42,20-24      17%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjnz[m     [94mmain2[m[11C[91m#loop if output counter nonzero[m[31;87H[K[31;87H43,10-24      18%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjmp[m     [94mmain1[m[11C[91m#back to read next char[m[31;87H[K[31;87H44,10-24      20%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain3[m:[10C[94mcall[m    [94mexit[m[31;87H[K[31;87H45,13-24      21%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H46,0-1[8C23%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Set hasKey to non-zero if key has been pressed[m[31;87H[K[31;87H47,24[9C24%[30;24H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mcheckKey[m:[31;87H[K[31;87H48,9[10C26%[30;9H[?25h[?25l[31;87H[K[31;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"poll.s" 99L, 2341C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tdorbach1@g7-27:~/i220a/submit/lab12/exercises$ vi poll.sls[Kvi poll.s[Kmake ppo[K[Koll.com
as --32 -a=poll.lst poll.s -o poll.o
poll.s: Assembler messages:
poll.s:38: Error: bad register name `%a1'
poll.s:39: Error: bad register name `%a1'
make: *** [Makefile:18: poll.com] Error 1
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ make poll.com[4Pvi poll.s
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;31r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[31;1H"poll.s" 99L, 2341C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[91m#dos starts all .com programs at this offset[m[2;17H[31m.org[m    [95m0x100[m[4;17H[31m.code16[m

[91m#Define constants[m
[94mDOS_INT[m[9C=[7C[95m0x21[m
[94mCOUNT[m[11C=[8C[95m50[m
[94mQUIT[m[12C=[7C'[94mq[m'
[94mDELAY_LO[m[8C=[7C[95m0x0[m
[94mDELAY_HI[m[8C=[7C[95m0x2[m

[91m#Entered at program startup.[m[14;17H[94mjmp[m     [94mmain[m


[91m#data area      [m
[94minChar[m:[9C[31m.byte[m   [95m0[m
[94mhasKey[m:[9C[31m.byte[m   [95m1[m

[94mmain[m:
[94mmain1[m:[23;17H[94mcall[m    [94mgetchar[m[9C[91m#read input char into inChar[m[24;17H[94mmov[m     [94minChar[m, %[94mal[m     [91m#al set to char read[m[25;17H[94mcmp[m     $[94mQUIT[m, %[94mal[m      [91m#is it a QUIT character?[m[26;17H[94mjz[m      [94mmain3[m[11C[91m#quit if got QUIT character[m[27;17H[94mmov[m     $[94mCOUNT[m, %[94mcx[m     [91m#set output counter[m
[94mmain2[m:[29;17H[94mcall[m    [94mcheckKey[m[8C[91m#check if key has been pressed[m[30;17H[94mmov[m     [94mhasKey[m, %[94mal[m     [91m#put checkKey result into al[m[31;87H1,3-17[8CTop]2;poll.s (~/projects/i220a/submit/lab12/exercises) - VIM]1;poll.s[1;17H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[31;87H2[2;17H[?25h[?25l[31;87H3,0-1 [3;1H[?25h[?25l[31;87H4,10-17[4;17H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,10-17[7;17H[?25h[?25l[31;87H8[8;17H[?25h[?25l[31;87H9[9;17H[?25h[?25l[31;87H10,11-17[10;17H[?25h[?25l[31;88H1[11;17H[?25h[?25l[31;88H2,0-1  [12;1H[?25h[?25l[31;88H3,17 [13;17H[?25h[?25l[31;88H4,3-17[14;17H[?25h[?25l[31;88H5,0-1 [15;1H[?25h[?25l[31;88H6[16;1H[?25h[?25l[31;88H7,11-16[17;16H[?25h[?25l[31;88H8,10-17[18;17H[?25h[?25l[31;88H9[19;17H[?25h[?25l[31;87H20,0-1  [20;1H[?25h[?25l[31;88H1,5  [21;5H[?25h[?25l[31;88H2,7-8[22;8H[?25h[?25l[31;88H3,3-17[23;17H[?25h[?25l[31;88H4[24;17H[?25h[?25l[31;88H5[25;17H[?25h[?25l[31;88H6[26;17H[?25h[?25l[31;88H7[27;17H[?25h[?25l[31;88H8,6   [28;6H[?25h[?25l[31;88H9,10-17[29;17H[?25h[?25l[31;87H30,3-17 [30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mtest[m    %[94mal[m, %[94mal[m[8C[91m#non-zero if keyboard has char[m[31;1H[K[31;87H31,3-17[8C1%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m      [94mmain4[m[11C[91m#no key press[m[31;87H[K[31;87H32,10-17[7C2%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mxor[m     %[94mal[m, %[94mal[m[31;87H[K[31;87H33,10-17[7C4%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mal[m, [94mhasKey[m     [91m#reset hasKey flag[m[31;87H[K[31;87H34,3-17[8C5%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mgetchar[m[9C[91m#read new input key[m[31;87H[K[31;87H35,3-17[8C7%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain4[m:[31;87H[K[31;87H36,7-8[9C8%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mputchar[m[9C[91m#output inChar to console[m[31;87H[K[31;87H37,10-17      10%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m [94minChar[m, %[94ma1[m[31;87H[K[31;87H38,3-17[7C11%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcmp[m $[94mQUIT[m, %[94ma1[m[31;87H[K[31;87H39,3-17[7C13%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m [94mmain3[m[31;87H[K[31;87H40,3-17[7C14%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[31;87H[K[31;87H41,3-17[7C15%[30;17H[?25h[?25l[31;88H0[29;17H[?25h[?25l[31;87H39[28;17H[?25h[?25l[31;90H4-18[28;18H[?25h[?25l[31;88H8[27;18H[?25h[?25l[31;90H5-19[27;19H[?25h[?25l[31;90H6-20[27;20H[?25h[?25l[31;90H7-21[27;21H[?25h[?25l[31;90H8-22[27;22H[?25h[?25l[31;90H9-23[27;23H[?25h[?25l[31;90H10-24[27;24H[?25h[?25l[31;91H1-25[27;25H[?25h[?25l[31;91H2-26[27;26H[?25h[?25l[31;91H3-27[27;27H[?25h[?25l[31;91H4-28[27;28H[?25h[?25l[31;91H5-29[27;29H[?25h[?25l[31;91H6-30[27;30H[?25h[?25l[31;91H7-31[27;31H[?25h[?25l[31;1H[1m-- INSERT --[m[31;87H[K[31;87H38,17-31      15%[27;31H[?25h[?25l[31;91H8-32[27;32H[?25h[?25l[27;31H[K[31;91H7-31]2;poll.s + (~/projects/i220a/submit/lab12/exercises) - VIM]1;poll.s[27;31H[?25h[?25l[94ml[m[31;91H8-32[27;32H[?25h[?25l[31;88H9,17-31[28;31H[?25h[?25l[28;30H[K[31;91H6-30[28;30H[?25h[?25l[94ml[m[31;91H7-31[28;31H[?25h[31;1H[K[28;30H[?25l[31;87H39,16-30      15%[28;30H[?25h[?25l[31;87H[K[31;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"poll.s" 99L, 2341C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tdorbach1@g7-27:~/i220a/submit/lab12/exercises$ vi poll.smake poll.com
as --32 -a=poll.lst poll.s -o poll.o
objcopy -O binary poll.o poll.bin
rm poll.o
dd if=poll.bin of=poll.com bs=256 skip=1
0+1 records in
0+1 records out
117 bytes copied, 0.00198795 s, 58.9 kB/s
rm poll.bin
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ jobs -l
[2]+ 637688 Running                 dosbox &
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ quit [K[K[K[K[Kkill 637688
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ dosbox &
[3] 638673
[2]   Done                    dosbox
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/dorbach1/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none

dorbach1@g7-27:~/i220a/submit/lab12/exercises$ vi [K[K[Kvi key-inst.c[K[K[K[Kt.c[Ks
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;31r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[31;1H"key-int.s" 164L, 4346C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[91m#dos starts all .com programs at this offset[m[2;17H[31m.org[m    [95m0x100[m[4;17H[31m.code16[m

[91m#Define constants[m
[94mDOS_INT[m[9C=[7C[95m0x21[m  [91m#use INT 0x21 to generate s/w interrupt to DOS[m
[94mKEY_INT[m[9C=[7C[95m0x9[m   [91m#interrupt vector # for keyboard interrupt[m
[94mCHK_INT[m[9C=[7C[95m0x16[m  [91m#[m
[94mCOUNT[m[11C=[9C[95m50[m
[94mQUIT[m[12C=[7C'[94mq[m'
[94mDELAY_LO[m[8C=[7C[95m0x0[m
[94mDELAY_HI[m[8C=[7C[95m0x2[m

[91m#Entered at program startup.[m[16;17H[94mjmp[m     [94mmain[m


[91m#data area      [m
[94minChar[m:[9C[31m.byte[m   [95m0[m
[94mhasKey[m:[9C[31m.byte[m   [95m0[m
[94mintAddr[m:[8C[31m.word[m   [95m0,[m [95m0[m
[94mchkAddr[m:[8C[31m.word[m   [95m0,[m [95m0[m

[94mmain[m:[26;17H[94mcall[m    [94msetupHandler
main1[m:[28;17H[94mcall[m    [94mgetchar[m[9C[91m#read input char into inChar[m[29;17H[94mmov[m     [94minChar[m, %[94mal[m     [91m#al set to char read[m[30;17H[94mcmp[m     $[94mQUIT[m, %[94mal[m      [91m#is it a QUIT character?[m[31;87H1,3-17[8CTop]2;key-int.s (~/projects/i220a/submit/lab12/exercises) - VIM]1;key-int.s[1;17H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[31;87H2[2;17H[?25h[?25l[31;87H3,0-1 [3;1H[?25h[?25l[31;87H4,10-17[4;17H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,10-17[7;17H[?25h[?25l[31;87H8[8;17H[?25h[?25l[31;87H9[9;17H[?25h[?25l[31;87H10,10-17[10;17H[?25h[?25l[31;88H1[11;17H[?25h[?25l[31;88H2,11[12;17H[?25h[?25l[31;88H3[13;17H[?25h[?25l[31;88H4,0-1  [14;1H[?25h[?25l[31;88H5,17 [15;17H[?25h[?25l[31;88H6,3-17[16;17H[?25h[?25l[31;88H7,0-1 [17;1H[?25h[?25l[31;88H8[18;1H[?25h[?25l[31;88H9,11-16[19;16H[?25h[?25l[31;87H20,10-17[20;17H[?25h[?25l[31;88H1,17   [21;17H[?25h[?25l[31;88H2,10-17[22;17H[?25h[?25l[31;88H3[23;17H[?25h[?25l[31;88H4,0-1  [24;1H[?25h[?25l[31;88H5,5  [25;5H[?25h[?25l[31;88H6,10-17[26;17H[?25h[?25l[31;88H7,7-8  [27;8H[?25h[?25l[31;88H8,3-17[28;17H[?25h[?25l[31;88H9[29;17H[?25h[?25l[31;87H30[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m      [94mmain3[m[11C[91m#quit if got QUIT character[m[31;1H[K[31;87H31,3-17[8C0%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mCOUNT[m, %[94mcx[m     [91m#set output counter[m[31;87H[K[31;87H32,3-17[8C1%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain2[m:[31;87H[K[31;87H33,6[11C2%[30;6H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     [94mhasKey[m, %[94mal[m     [91m#put checkKey result into al[m[31;87H[K[31;87H34,3-17[8C2%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mtest[m    %[94mal[m, %[94mal[m[8C[91m#non-zero if keyboard has char[m[31;87H[K[31;87H35,3-17[8C3%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m      [94mmain4[m[11C[91m#no key press[m[31;87H[K[31;87H36,10-17[7C4%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mgetchar[m[31;87H[K[31;87H37,3-17[8C5%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain4[m:[31;87H[K[31;87H38,7-8[9C5%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mputchar[m[9C[91m#output inChar to console[m[31;87H[K[31;87H39,10-17[7C6%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[31;87H[K[31;87H40,3-17[8C7%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mdec[m     %[94mcx[m[13C[91m#decrement loop counter[m[31;87H[K[31;87H41,17[10C8%[30;17H[?25h[?25l[31;88H0,3-17[29;17H[?25h[?25l[31;87H39,10-17[28;17H[?25h[?25l[31;88H8,7-8  [27;8H[?25h[?25l[31;88H7,3-17[26;17H[?25h[?25l[31;88H6,10-17[25;17H[?25h[?25l[31;88H5,3-17 [24;17H[?25h[?25l[31;88H4[23;17H[?25h[?25l[31;88H3,6   [22;6H[?25h[?25l[31;88H2,3-17[21;17H[?25h[?25l[31;88H1[20;17H[?25h[?25l[31;88H0[19;17H[?25h[?25l[31;87H29[18;17H[?25h[?25l[31;88H8[17;17H[?25h[?25l[31;88H7,7-8 [16;8H[?25h[?25l[31;88H6,10-17[15;17H[?25h[?25l[31;88H5,5    [14;5H[?25h[?25l[31;88H4,0-1[13;1H[?25h[?25l[31;88H3,10-17[12;17H[?25h[?25l[31;88H2[11;17H[?25h[?25l[31;88H1,17   [10;17H[?25h[?25l[31;88H0,10-17[9;17H[?25h[?25l[31;87H19,11-16[8;16H[?25h[?25l[31;88H8,0-1  [7;1H[?25h[?25l[31;88H7[6;1H[?25h[?25l[31;88H6,3-17[5;17H[?25h[?25l[31;88H5,17  [4;17H[?25h[?25l[31;88H4,0-1[3;1H[?25h[?25l[31;88H3,11-17[2;17H[?25h[?25l[31;88H2[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mQUIT[m[12C=[7C'[94mq[m'[31;87H[K[31;87H11,10-17[7C7%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mCOUNT[m[11C=[9C[95m50[m[31;87H[K[31;87H10,10-17[7C6%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mCHK_INT[m[9C=[7C[95m0x16[m  [91m#[m[31;87H[K[31;87H9,10-17[8C5%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mKEY_INT[m[9C=[7C[95m0x9[m   [91m#interrupt vector # for keyboard interrupt[m[31;87H[K[31;87H8,10-17[8C5%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[94mDOS_INT[m[9C=[7C[95m0x21[m  [91m#use INT 0x21 to generate s/w interrupt to DOS[m[31;87H[K[31;87H7,10-17[8C4%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;1H[91m#Define constants[m[31;87H[K[31;87H6,17[11C3%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H5,0-1[10C2%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[31m.code16[m[31;87H[K[31;87H4,10-17[8C2%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[31;87H[K[31;87H3,0-1[10C1%[1;1H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[31m.org[m    [95m0x100[m[31;87H[K[31;87H2,3-17[9C0%[1;17H[?25h[?25l[1;30r[1;1H[L[1;31r[1;17H[91m#dos starts all .com programs at this offset[m[31;87H[K[31;87H1,3-17[8CTop[1;17H[?25h[?25l[31;87H2[2;17H[?25h[?25l[31;87H3,0-1 [3;1H[?25h[?25l[31;87H4,10-17[4;17H[?25h[?25l[31;87H5,0-1  [5;1H[?25h[?25l[31;87H6,17 [6;17H[?25h[?25l[31;87H7,10-17[7;17H[?25h[?25l[31;87H8[8;17H[?25h[?25l[31;87H9[9;17H[?25h[?25l[31;87H10,10-17[10;17H[?25h[?25l[31;88H1[11;17H[?25h[?25l[31;88H2,11[12;17H[?25h[?25l[31;88H3[13;17H[?25h[?25l[31;88H4,0-1  [14;1H[?25h[?25l[31;88H5,17 [15;17H[?25h[?25l[31;88H6,3-17[16;17H[?25h[?25l[31;88H7,0-1 [17;1H[?25h[?25l[31;88H8[18;1H[?25h[?25l[31;88H9,11-16[19;16H[?25h[?25l[31;87H20,10-17[20;17H[?25h[?25l[31;88H1,17   [21;17H[?25h[?25l[31;88H2,10-17[22;17H[?25h[?25l[31;88H3[23;17H[?25h[?25l[31;88H4,0-1  [24;1H[?25h[?25l[31;88H5,5  [25;5H[?25h[?25l[31;88H6,10-17[26;17H[?25h[?25l[31;88H7,7-8  [27;8H[?25h[?25l[31;88H8,3-17[28;17H[?25h[?25l[31;88H9[29;17H[?25h[?25l[31;87H30[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m      [94mmain3[m[11C[91m#quit if got QUIT character[m[31;87H[K[31;87H31,3-17[8C0%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mCOUNT[m, %[94mcx[m     [91m#set output counter[m[31;87H[K[31;87H32,3-17[8C1%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain2[m:[31;87H[K[31;87H33,6[11C2%[30;6H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     [94mhasKey[m, %[94mal[m     [91m#put checkKey result into al[m[31;87H[K[31;87H34,3-17[8C2%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mtest[m    %[94mal[m, %[94mal[m[8C[91m#non-zero if keyboard has char[m[31;87H[K[31;87H35,3-17[8C3%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjz[m      [94mmain4[m[11C[91m#no key press[m[31;87H[K[31;87H36,10-17[7C4%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mgetchar[m[31;87H[K[31;87H37,3-17[8C5%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain4[m:[31;87H[K[31;87H38,7-8[9C5%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mputchar[m[9C[91m#output inChar to console[m[31;87H[K[31;87H39,10-17[7C6%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mdelay[m[11C[91m#delay for time proportional to DELAY[m[31;87H[K[31;87H40,3-17[8C7%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mdec[m     %[94mcx[m[13C[91m#decrement loop counter[m[31;87H[K[31;87H41,17[10C8%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjnz[m     [94mmain2[m[11C[91m#loop if output counter nonzero[m[31;87H[K[31;87H42,3-17[8C8%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mjmp[m     [94mmain1[m[11C[91m#back to read next char[m[31;87H[K[31;87H43,3-17[8C9%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mmain3[m:[31;87H[K[31;87H44,6[10C10%[30;6H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mresetHandler[m[31;87H[K[31;87H45,3-17[7C11%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mcall[m    [94mexit[m[31;87H[K[31;87H46,3-17[7C11%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H47,0-1[8C12%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[31;87H[K[31;87H48,17[9C13%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#and address of bios interrupt handler in chkAddr.[m[31;87H[K[31;87H49,17[9C14%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Point keyboard interrupt to intHandler [m[31;87H[K[31;87H50,17[9C14%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94msetupHandler[m:[31;87H[K[31;87H51,13[9C15%[30;13H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94max[m[31;87H[K[31;87H52,3-17[7C16%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mbx[m[31;87H[K[31;87H53,3-17[7C17%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mdx[m[31;87H[K[31;87H54,3-17[7C17%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mes[m[31;87H[K[31;87H55,3-17[7C18%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H56,0-1[8C19%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[91m#save address of handler for CHK_INT in chkAddr[m[31;87H[K[31;87H57,10-17      20%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mCHK_INT[m, %[94mal[m   [91m#int vec for checking keyboard buf[m[31;87H[K[31;87H58,3-17[7C20%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x35[m, %[94mah[m      [91m#specify fn to read current int vector[m[31;87H[K[31;87H59,3-17[7C21%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#interrupt vector addr in es:bx[m[31;87H[K[31;87H60,3-17[7C22%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mbx[m, [94mchkAddr[m    [91m#save old int vector [m[31;87H[K[31;87H61,3-17[7C23%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mes[m, [94mchkAddr[m+[95m2[m  [91m#in mem[m[31;87H[K[31;87H62,3-17[7C23%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H63,0-1[8C24%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[91m#save address of handler for KEY_INT in intAddr[m[31;87H[K[31;87H64,10-17      25%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mKEY_INT[m, %[94mal[m   [91m#int vec for reading keyboard[m[31;87H[K[31;87H65,3-17[7C26%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x35[m, %[94mah[m      [91m#specify fn to read current int vector[m[31;87H[K[31;87H66,3-17[7C26%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#interrupt vector addr in es:bx[m[31;87H[K[31;87H67,3-17[7C27%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mbx[m, [94mintAddr[m    [91m#save old int vector[m[31;87H[K[31;87H68,3-17[7C28%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94mes[m, [94mintAddr[m+[95m2[m  [91m#in mem[m[31;87H[K[31;87H69,3-17[7C29%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H70,0-1[8C29%[30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[91m#set address of keyboard interrupt handler to intHandler[m[31;87H[K[31;87H71,10-17      30%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mKEY_INT[m, %[94mal[m   [91m#replace int vec for reading keyboard[m[31;87H[K[31;87H72,3-17[7C31%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x25[m, %[94mah[m      [91m#specify fn to write int vec from dx[m[31;87H[K[31;87H73,3-17[7C32%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mintHandler[m, %[94mdx[m[91m#point dx to new int handler[m[31;87H[K[31;87H74,3-17[7C32%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#set int address to ds:dx[m[31;87H[K[31;87H75,3-17[7C33%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mes[m[31;87H[K[31;87H76,3-17[7C34%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mdx[m[31;87H[K[31;87H77,3-17[7C35%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mbx[m[31;87H[K[31;87H78,3-17[7C35%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94max[m[31;87H[K[31;87H79,3-17[7C36%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mret[m[31;87H[K[31;87H80,3-17[7C37%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H81,0-1[8C38%[30;1H[?25h[?25l[31;88H0,3-17[29;17H[?25h[?25l[31;87H79[28;17H[?25h[?25l[31;88H8[27;17H[?25h[?25l[31;88H7[26;17H[?25h[?25l[31;88H6[25;17H[?25h[?25l[31;88H5[24;17H[?25h[?25l[31;88H4[23;17H[?25h[?25l[31;88H3[22;17H[?25h[?25l[31;88H2[21;17H[?25h[?25l[31;88H1,10-17[20;17H[?25h[?25l[31;88H2,3-17 [21;17H[?25h[?25l[31;88H3[22;17H[?25h[?25l[31;88H4[23;17H[?25h[?25l[31;88H5[24;17H[?25h[?25l[31;88H6[25;17H[?25h[?25l[31;88H7[26;17H[?25h[?25l[31;88H8[27;17H[?25h[?25l[31;88H9[28;17H[?25h[?25l[31;87H80[29;17H[?25h[?25l[31;88H1,0-1 [30;1H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Cleanup keyboard interrupt handler: restore to original value saved[m[31;87H[K[31;87H82,17[9C38%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#in intAddr.[m[31;87H[K[31;87H83,12[9C39%[30;12H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[94mresetHandler[m:[31;87H[K[31;87H84,13[9C40%[30;13H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94max[m[31;87H[K[31;87H85,3-17[7C41%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mdx[m[31;87H[K[31;87H86,3-17[7C41%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpush[m    %[94mds[m[31;87H[K[31;87H87,3-17[7C42%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[94mKEY_INT[m, %[94mal[m[31;87H[K[31;87H88,3-17[7C43%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     $[95m0x25[m, %[94mah[m[31;87H[K[31;87H89,3-17[7C44%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     [94mintAddr[m, %[94mdx[m[31;87H[K[31;87H90,3-17[7C44%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     [94mintAddr[m + [95m2[m, %[94max[m[31;87H[K[31;87H91,3-17[7C45%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mmov[m     %[94max[m, %[94mds[m[31;87H[K[31;87H92,3-17[7C46%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mint[m     $[94mDOS_INT[m[8C[91m#set int address to ds:dx[m[31;87H[K[31;87H93,3-17[7C47%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mds[m[31;87H[K[31;87H94,3-17[7C47%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94mdx[m[31;87H[K[31;87H95,3-17[7C48%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mpop[m     %[94max[m[31;87H[K[31;87H96,3-17[7C49%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[30;17H[94mret[m[31;87H[K[31;87H97,3-17[7C50%[30;17H[?25h[?25l[1;30r[30;1H
[1;31r[31;87H[K[31;87H98,1-8[8C50%[30;8H[?25h[?25l[1;30r[30;1H
[1;31r[30;1H[91m#Interrupt handler for keyboard[m[31;87H[K[31;87H99,17[9C51%[30;17H[?25h[?25l[31;87H[K[31;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[31;1H[K[31;1H[?2004l[?1l>[?25h[?1049l[23;0;0tdorbach1@g7-27:~/i220a/submit/lab12/exercises$ jobs
[3]+  Running                 dosbox &
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ jo[K[Kkill so[K[Kdosbox
bash: kill: dosbox: arguments must be process or job IDs
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ kill [K[K[K[K[Krun -l[K[K[K[K[K[Kjobs -l
[3]+ 638673 Running                 dosbox &
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ kill 6387[K673
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ make key-int.com
as --32 -a=key-int.lst key-int.s -o key-int.o
objcopy -O binary key-int.o key-int.bin
rm key-int.o
dd if=key-int.bin of=key-int.com bs=256 skip=1
0+1 records in
0+1 records out
209 bytes copied, 0.0015044 s, 139 kB/s
rm key-int.bin
[3]+  Done                    dosbox
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ :[Kdosbox &
[1] 639580
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/dorbach1/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none

[1]+  Done                    dosbox
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ git status
On branch lab12
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	[31m../[m

nothing added to commit but untracked files present (use "git add" to track)
dorbach1@g7-27:~/i220a/submit/lab12/exercises$ exit

Script done on 2021-12-02 10:52:58-05:00 [COMMAND_EXIT_CODE="0"]
